(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(6),s=c.n(r),a=(c(11),c(2)),d=(c(12),c(13),c(0));var j=function(e){var t=e.isDarkMode,c=e.enter,i=e.isError,r=e.setError,s=Object(n.useState)(""),j=Object(a.a)(s,2),o=j[0],l=j[1];Object(n.useEffect)((function(){r(!1)}),[o,r]);var x={color:"".concat(t?"var(--white)":"var(--black)"),backgroundColor:"".concat(t?"var(--card-background-dark)":"var(--card-background-light)")},h={stroke:"".concat(t?"var(--white)":"var(--black)")},u={opacity:"".concat(i?"1":"0")};return Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsx)("input",{type:"text",placeholder:"Suche nach einem Ort...",style:x,value:o,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){13===e.charCode&&c(o)}}),Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"x",style:h,onClick:function(){return l("")},children:[Object(d.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(d.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",style:h,onClick:function(){return c(o)},children:[Object(d.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(d.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Object(d.jsxs)("p",{className:"error",style:u,children:["'",o,"' wurde nicht gefunden."]})]})};c(15);var o=function(e){var t=e.isDarkMode,c=e.setDarkMode;return Object(d.jsx)("div",{className:"dark-mode-toggler",children:t?Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"moon",onClick:function(){return c(!1)},children:Object(d.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"sun",onClick:function(){return c(!0)},children:[Object(d.jsx)("circle",{cx:"12",cy:"12",r:"5"}),Object(d.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),Object(d.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),Object(d.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),Object(d.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),Object(d.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),Object(d.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),Object(d.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),Object(d.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})})},l=c(3),x=c.n(l),h=c(4);c(17),c(18),c(19);function u(e){switch(Number("".concat(e)[0])){case 2:return"./img/cloud_rain_lightning.svg";case 3:case 5:case 6:return"./img/sun_cloud_rain.svg";case 7:case 8:return"./img/sun_wind.svg";default:return"./img/sun_cloud_rain.svg"}}var b=function(e){var t=e.id,c=e.width,n=e.height,i={width:"".concat(c,"px"),height:"".concat(n,"px")};return Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:u(t),alt:"weather icon",style:i})})};function O(e){if(void 0===e)return new Date;var t=new Date,c=t.getTime()+6e4*t.getTimezoneOffset();return new Date(c+1e3*e)}function m(e){return O(e).toLocaleString("de-DE",{weekday:"long"})}function p(e){return O(e).toLocaleString("de-DE",{hourCycle:"h23",hour:"2-digit",minute:"2-digit"})}var f=function(e){var t=e.isDarkMode,c=e.data,n={backgroundColor:"".concat(t?"var(--card-background-dark)":"var(--card-background-light)"),backgroundImage:"url(./img/skyline.png)"},i={stroke:"".concat(t?"var(--white)":"var(--black)")};return Object(d.jsxs)("div",{className:"highlights",children:[Object(d.jsxs)("div",{className:"skyline",style:n,children:[Object(d.jsxs)("p",{className:"location",children:[c.city,", ",c.country]}),Object(d.jsx)("a",{href:"https://www.freepik.com/vectors/background",style:{display:"none"},children:"Background vector created by rawpixel.com - www.freepik.com"})]}),Object(d.jsxs)("div",{className:"time",children:[Object(d.jsx)("p",{className:"weekday",children:m(c.timezone)}),Object(d.jsx)("p",{className:"timestamp",children:p(c.timezone)})]}),Object(d.jsxs)("div",{className:"stats",children:[Object(d.jsx)(b,{id:c.weatherId,className:"icon"}),Object(d.jsxs)("p",{className:"temp",children:[c.temp,"\xb0C"]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",style:i,children:Object(d.jsx)("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})}),Object(d.jsx)("p",{children:c.desc})]})]})]})};c(20);function v(e){return new Date(1e3*e).toLocaleString("de-DE",{weekday:"short"})}var y=function(e){var t=e.data;return Object(d.jsxs)("div",{className:"forecast",children:[Object(d.jsx)("p",{className:"forecastWeekday",children:v(t.time)}),Object(d.jsx)(b,{id:t.weatherId,width:70,height:50}),Object(d.jsxs)("div",{className:"temps",children:[Object(d.jsxs)("p",{className:"max-temp",children:[Number(t.maxTemp).toFixed(0),Object(d.jsx)("span",{children:"\xb0C"})]}),Object(d.jsxs)("p",{className:"min-temp",children:[Number(t.minTemp).toFixed(0),Object(d.jsx)("span",{children:"\xb0C"})]})]})]})};c(21);function g(e){return["N","NO","O","SO","S","SW","W","NW"][Math.round(((e%=360)<0?e+360:e)/45)%8]}function w(e){return new Date(1e3*e).toLocaleString("de-DE",{hourCycle:"h23",hour:"2-digit",minute:"2-digit"})}var k=function(e){var t=e.isDarkMode,c=e.data,n=e.forecast,i={backgroundColor:"".concat(t?"var(--card-background-dark)":"var(--card-background-light)")},r={transform:"rotate(".concat(c.windDir,"deg)")};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"today",children:[Object(d.jsx)("h3",{children:"Heute"}),Object(d.jsxs)("div",{className:"details",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"detail min-max",style:i,children:[Object(d.jsx)("p",{children:"H\xf6chst- & Tiefstwerte"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z",stroke:"#023e8a"})}),Object(d.jsxs)("p",{children:[Number(c.minTemp).toFixed(1),Object(d.jsx)("span",{children:"\xb0C"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z",stroke:"#f25c54"})}),Object(d.jsxs)("p",{children:[Number(c.maxTemp).toFixed(1),Object(d.jsx)("span",{children:"\xb0C"})]})]})]})]}),Object(d.jsxs)("div",{className:"detail sunrise-sunset",style:i,children:[Object(d.jsx)("p",{children:"Sonnenaufgang & Sonnenuntergang"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(d.jsx)("path",{d:"M17 18a5 5 0 0 0-10 0",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"9"}),Object(d.jsx)("line",{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"1",y1:"18",x2:"3",y2:"18",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"21",y1:"18",x2:"23",y2:"18",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"23",y1:"22",x2:"1",y2:"22"}),Object(d.jsx)("polyline",{points:"8 6 12 2 16 6"})]}),Object(d.jsx)("p",{children:w(c.sunrise)})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(d.jsx)("path",{d:"M17 18a5 5 0 0 0-10 0",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"2"}),Object(d.jsx)("line",{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"1",y1:"18",x2:"3",y2:"18",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"21",y1:"18",x2:"23",y2:"18",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22",stroke:"#ffdd00"}),Object(d.jsx)("line",{x1:"23",y1:"22",x2:"1",y2:"22"}),Object(d.jsx)("polyline",{points:"16 5 12 9 8 5"})]}),Object(d.jsx)("p",{children:w(c.sunset)})]})]})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"detail wind",style:i,children:[Object(d.jsx)("p",{children:"Wind"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"})}),Object(d.jsxs)("p",{children:[Number(Number(3.6*c.windSpeed).toFixed(1)),Object(d.jsx)("span",{children:"km/h"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",style:r,children:Object(d.jsx)("polygon",{points:"12 2 19 21 12 17 5 21 12 2"})}),Object(d.jsx)("p",{children:g(c.windDir)})]})]})]}),Object(d.jsxs)("div",{className:"detail humidity",style:i,children:[Object(d.jsx)("p",{children:"Luftfeuchtigkeit"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z",stroke:"#00b4d8"})}),Object(d.jsxs)("p",{children:[c.humidity,Object(d.jsx)("span",{children:"%"})]})]})]}),Object(d.jsxs)("div",{className:"detail rain",style:i,children:[Object(d.jsx)("p",{children:"Regenmenge (1 Std.)"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(d.jsx)("line",{x1:"16",y1:"13",x2:"16",y2:"21"}),Object(d.jsx)("line",{x1:"8",y1:"13",x2:"8",y2:"21"}),Object(d.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"23"}),Object(d.jsx)("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"})]}),Object(d.jsxs)("p",{children:[c.rainVolumen,Object(d.jsx)("span",{children:"mm"})]})]})]})]})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Woche"}),Object(d.jsx)("ul",{children:n.data?n.data.map((function(e,t){return Object(d.jsx)(y,{data:e},t)})):Object(d.jsx)(d.Fragment,{})})]})]})},N="https://api.openweathermap.org/data/2.5";function D(){return(D=Object(h.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(h.a)(x.a.mark((function e(c,n){var i,r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=localStorage.getItem("city_".concat(t)))){e.next=7;break}if(r=i.iat,s=(new Date).getTime(),!(r+3e5>s)){e.next=7;break}return c(JSON.parse(i)),e.abrupt("return");case 7:return e.next=9,fetch("".concat(N,"/weather?q=").concat(t,"&appid=").concat("84cae35816b1fc1eedd97bb560877a4d","&units=metric&lang=de"));case 9:e.sent.json().then((function(e){if(e){var n={iat:(new Date).getTime(),lat:e.coord.lat,lon:e.coord.lon,city:t,country:e.sys.country,timezone:e.timezone,weatherId:e.weather[0].id,temp:Math.round(e.main.temp),maxTemp:e.main.temp_max,minTemp:e.main.temp_min,humidity:e.main.humidity,desc:e.weather[0].description,rainVolumen:e.rain?e.rain["1h"]:0,windSpeed:e.wind?e.wind.speed:0,windDir:e.wind?e.wind.deg:0,sunrise:e.sys.sunrise,sunset:e.sys.sunset};localStorage.setItem("city_".concat(t),JSON.stringify(n)),c(n)}})).catch((function(e){n(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(h.a)(x.a.mark((function e(t,c){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(h.a)(x.a.mark((function e(n,i){var r,s,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=localStorage.getItem("forecast_".concat(t,"_").concat(c)))){e.next=7;break}if(s=r.iat,a=(new Date).getTime(),!(s+36e5>a)){e.next=7;break}return n(JSON.parse(r)),e.abrupt("return");case 7:return e.next=9,fetch("".concat(N,"/onecall?lat=").concat(t,"&lon=").concat(c,"&exclude=current,minutely,hourly,alerts&appid=").concat("84cae35816b1fc1eedd97bb560877a4d","&units=metric&lang=de"));case 9:e.sent.json().then((function(e){if(e){var i={iat:(new Date).getTime(),data:e.daily.splice(1).map((function(e){return{time:e.dt,weatherId:e.weather[0].id,maxTemp:e.temp.max,minTemp:e.temp.min}}))};localStorage.setItem("forecast_".concat(t,"_").concat(c),JSON.stringify(i)),n(i)}})).catch((function(e){i(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=e.isDarkMode,c=e.city,i=e.setError,r=Object(n.useState)({}),s=Object(a.a)(r,2),j=s[0],o=s[1],l=Object(n.useState)({}),x=Object(a.a)(l,2),h=x[0],u=x[1];return Object(n.useEffect)((function(){c&&function(e){return D.apply(this,arguments)}(c).then((function(e){e&&(o(e),function(e,t){return S.apply(this,arguments)}(e.lat,e.lon).then((function(e){e&&u(e)})))})).catch((function(e){i(!0),setTimeout((function(){i(!1)}),2e3)}))}),[c,i]),Object(d.jsxs)("div",{className:"weatherInfo",children:[Object(d.jsx)("div",{className:"left",children:Object(d.jsx)(f,{isDarkMode:t,data:j})}),Object(d.jsx)("div",{className:"right",children:Object(d.jsx)(k,{isDarkMode:t,data:j,forecast:h})})]})};var C=function(){var e=Object(n.useState)("Berlin"),t=Object(a.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(!0),s=Object(a.a)(r,2),l=s[0],x=s[1],h=Object(n.useState)(!1),u=Object(a.a)(h,2),b=u[0],O=u[1],m={backgroundColor:"".concat(l?"var(--background-dark)":"var(--background-light)"),color:"".concat(l?"var(--white)":"var(--black)")};return Object(d.jsxs)("div",{className:"App",style:m,children:[Object(d.jsx)(o,{isDarkMode:l,setDarkMode:x}),Object(d.jsx)(j,{isDarkMode:l,enter:function(e){return i(e)},isError:b,setError:O}),Object(d.jsx)(M,{isDarkMode:l,city:c,setError:O})]})};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.e4bc81b0.chunk.js.map